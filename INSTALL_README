Installation of hquery requires two main source components, the query-composer and the query gateway.

The query composer is a web based application that provides the front end for creating, managing, and executing queries.  

Those queries are executed against the query gateway which exposes a query API, accepts queries, runs those queries against the patient data,
and returns the results of the query back to the query composer.

Common setup requirements
  install ruby 1.9.2 or later
  install bundler 1.0.14 or later

Ruby installation process
  Ruby should be installed via RVM (Ruby Version Manager) when available. Details on rvm can be found at https://rvm.beginrescueend.com/ including
  installation instructions.  The basic install procedure for RVM is as follows:
     
    OSX
      First you will need to install XCode see: http://developer.apple.com/technologies/tools/ or install from your OSX install disk.

      open a terminal and run
        bash < <(curl -s https://rvm.beginrescueend.com/install/rvm)
        rvm install 1.9.2
        rvm use 1.9.2

    WINDOWS
	See "getting ruby directly" below
    LINUX
       open a terminal and run
         apt-get install ruby rubygems
         apt-get install build-essential curl file zlib1g-dev libreadline5-dev libxml2-dev libsqlite3-dev
         gem install rvm
         /var/lib/gems/1.8/bin/rvm-install
         rvm install 1.9.2
         rvm use 1.9.2

Getting Ruby Directly
  Ruby can also be installed directly from the following without the use of RVM.  Under windows ruby version 1.8.7 should be used.

    http://www.ruby-lang.org/en/downloads/

    The rails installer may be helpful under windows.
    
    http://railsinstaller.org/

    It looks like the rails installer will install rails 3.0.7 (hopefully this will be resolved when bundle install is run below)
    

  ** MAYBE SOMETHING ABOUT JRUBY? **

Bundler install process
   Bundler (http://gembundler.com/) is a Ruby Gem (http://en.wikipedia.org/wiki/RubyGems) that is used to manager the dependencies of a ruby application.  

   The bundler gem can be installed by running the following command in the terminal once ruby has been installed.
     gem install bundler

Getting the latest released version

   ** POINTER TO WHERE WE'RE GOING TO PUT RELEASED ARCHIVES **

Getting the latest source code (skip to "Installing Mongo" if you are using the latest stable release)

Installing GIT
   In order to get access to the source code, you will require git.  If you do not already have git, it can be installed by following the directions at:
     http://git-scm.com/download

   ** MAYBE GITHUB SPECIFIC INSTRUCTIONS ONCE IT'S THERE **

Getting the Code
   
   ** MAYBE GITHUB SPECIFIC INSTRUCTIONS ONCE IT'S THERE **

Installing MongoDB
   The reference implementation uses a database called MongoDB (http://www.mongodb.org/).  
   In order to run the reference implementation, MongoDB must be installed.
   MongoDB installers for most operating systems can be found at:
     http://www.mongodb.org/downloads

Populating example data
   
   ** Need example data and probably a script to populate it **

Starting the Application

   In a terminal, change directory to the query-composer directory
   run:
     bundle install
     bundle exec delayed_job start
     bundle exec rails server

   In a second terminam, change directory to the query-gateway directory
   run:
     bundle install
     bundle exec delayed_job start
     bundle exec rails server -p 3001
     
In a browser open the URL: http://localhost:3000/queries/
